<!DOCTYPE html>
<html lang="cs">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>KANCELÃÅ˜ NADÄšJE v4.9.1</title>

Â  Â  <script src="stats.js"></script>

Â  Â  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
Â  Â  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

Â  Â  <style>
Â  Â  Â  Â  /* --- ZÃKLADNÃ NASTAVENÃ A PROMÄšNNÃ‰ --- */
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --neon: #00f2ff;
Â  Â  Â  Â  Â  Â  --dark: #0f172a;
Â  Â  Â  Â  Â  Â  --card-bg: rgba(255, 255, 255, 0.05);
Â  Â  Â  Â  Â  Â  --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
Â  Â  Â  Â  Â  Â  --transition-fast: all 0.2s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  background-color: var(--dark);
Â  Â  Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  Â  Â  font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  overflow-x: hidden;
Â  Â  Â  Â  Â  Â  -webkit-tap-highlight-color: transparent;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- FIXNÃ PRVKY --- */
Â  Â  Â  Â  .admin-lock {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 20px;
Â  Â  Â  Â  Â  Â  right: 20px;
Â  Â  Â  Â  Â  Â  width: 48px;
Â  Â  Â  Â  Â  Â  height: 48px;
Â  Â  Â  Â  Â  Â  background: rgba(15, 23, 42, 0.9);
Â  Â  Â  Â  Â  Â  border: 2px solid var(--neon);
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  font-size: 1.3em;
Â  Â  Â  Â  Â  Â  z-index: 9999;
Â  Â  Â  Â  Â  Â  transition: var(--transition-slow);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 15px rgba(0, 242, 255, 0.3);
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  Â  Â  }

Â  Â  Â  Â  .admin-lock:hover {
Â  Â  Â  Â  Â  Â  transform: rotate(180deg) scale(1.1);
Â  Â  Â  Â  Â  Â  background: var(--neon);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 30px var(--neon);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- ANIMOVANÃ‰ LOGO --- */
Â  Â  Â  Â  .header-logo {
Â  Â  Â  Â  Â  Â  max-width: 450px;
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  margin: 20px 0 40px 0;
Â  Â  Â  Â  Â  Â  filter: drop-shadow(0 0 10px rgba(0, 242, 255, 0.5));
Â  Â  Â  Â  Â  Â  animation: neonGlow 4s ease-in-out infinite alternate;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes neonGlow {
Â  Â  Â  Â  Â  Â  0% { filter: drop-shadow(0 0 5px var(--neon)); transform: scale(1); }
Â  Â  Â  Â  Â  Â  100% { filter: drop-shadow(0 0 25px var(--neon)); transform: scale(1.02); }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- BANKOVNÃ SYSTÃ‰M --- */
Â  Â  Â  Â  .bank-box {
Â  Â  Â  Â  Â  Â  background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(0,242,255,0.08) 100%);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(0, 242, 255, 0.4);
Â  Â  Â  Â  Â  Â  border-radius: 30px;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  min-width: 300px;
Â  Â  Â  Â  Â  Â  margin-bottom: 40px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 20px 50px rgba(0,0,0,0.4);
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  }

Â  Â  Â  Â  .bank-label {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  opacity: 0.5;
Â  Â  Â  Â  Â  Â  font-size: 0.75em;
Â  Â  Â  Â  Â  Â  letter-spacing: 3px;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  margin-bottom: 12px;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }

Â  Â  Â  Â  .bank-main-val {
Â  Â  Â  Â  Â  Â  font-size: 3.2em;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  text-shadow: 0 0 20px var(--neon);
Â  Â  Â  Â  Â  Â  line-height: 1;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .bank-total-row {
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  padding-top: 20px;
Â  Â  Â  Â  Â  Â  border-top: 1px solid rgba(255,255,255,0.1);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 12px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .bank-total-label {
Â  Â  Â  Â  Â  Â  font-size: 0.7em;
Â  Â  Â  Â  Â  Â  opacity: 0.6;
Â  Â  Â  Â  Â  Â  letter-spacing: 1px;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  }

Â  Â  Â  Â  .bank-total-val {
Â  Â  Â  Â  Â  Â  font-weight: 800;
Â  Â  Â  Â  Â  Â  color: var(--neon);
Â  Â  Â  Â  Â  Â  font-size: 1.3em;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- NAVIGACE --- */
Â  Â  Â  Â  .btn-stats {
Â  Â  Â  Â  Â  Â  display: inline-block;
Â  Â  Â  Â  Â  Â  margin-bottom: 40px;
Â  Â  Â  Â  Â  Â  padding: 16px 35px;
Â  Â  Â  Â  Â  Â  background: rgba(0, 242, 255, 0.05);
Â  Â  Â  Â  Â  Â  border: 1px solid var(--neon);
Â  Â  Â  Â  Â  Â  color: var(--neon);
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  border-radius: 100px;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  transition: var(--transition-slow);
Â  Â  Â  Â  Â  Â  letter-spacing: 1.5px;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  }

Â  Â  Â  Â  .btn-stats:hover {
Â  Â  Â  Â  Â  Â  background: var(--neon);
Â  Â  Â  Â  Â  Â  color: var(--dark);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 40px var(--neon);
Â  Â  Â  Â  Â  Â  transform: translateY(-3px);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- ZÃPASY - KARTY --- */
Â  Â  Â  Â  #matchList {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 650px;
Â  Â  Â  Â  Â  Â  padding-bottom: 120px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .match-card {
Â  Â  Â  Â  Â  Â  background: var(--card-bg);
Â  Â  Â  Â  Â  Â  border-radius: 35px;
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.08);
Â  Â  Â  Â  Â  Â  margin-bottom: 35px;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: var(--transition-slow);
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(15px);
Â  Â  Â  Â  }

Â  Â  Â  Â  .match-card:hover {
Â  Â  Â  Â  Â  Â  border-color: var(--neon);
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.08);
Â  Â  Â  Â  Â  Â  transform: scale(1.01);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- BAROMETR ROZLOÅ½ENÃ --- */
Â  Â  Â  Â  .barometer-container {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 10px;
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.1);
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  margin: 25px 0 12px 0;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
Â  Â  Â  Â  }

Â  Â  Â  Â  .bar-1 { height: 100%; background: #38a169; transition: 1s ease-out; }
Â  Â  Â  Â  .bar-0 { height: 100%; background: #718096; transition: 1s ease-out; }
Â  Â  Â  Â  .bar-2 { height: 100%; background: #3182ce; transition: 1s ease-out; }

Â  Â  Â  Â  .bar-labels {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  font-size: 0.65em;
Â  Â  Â  Â  Â  Â  opacity: 0.7;
Â  Â  Â  Â  Â  Â  font-weight: 800;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  letter-spacing: 0.5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- 3D ANIMOVANÃ‰ VLAJKY --- */
Â  Â  Â  Â  .flags-wrapper {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 25px;
Â  Â  Â  Â  Â  Â  margin: 25px 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  .flag-container {
Â  Â  Â  Â  Â  Â  perspective: 1000px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  width: 130px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .flag-img {
Â  Â  Â  Â  Â  Â  width: 110px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 15px 35px rgba(0,0,0,0.6);
Â  Â  Â  Â  Â  Â  animation: flagWave 3s ease-in-out infinite;
Â  Â  Â  Â  Â  Â  transform-origin: left center;
Â  Â  Â  Â  Â  Â  border-left: 3px solid rgba(255,255,255,0.4);
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes flagWave {
Â  Â  Â  Â  Â  Â  0%, 100% { transform: rotateY(0deg) rotateX(0deg); }
Â  Â  Â  Â  Â  Â  50% { transform: rotateY(35deg) rotateX(10deg) scale(1.05); }
Â  Â  Â  Â  }

Â  Â  Â  Â  .vs-circle {
Â  Â  Â  Â  Â  Â  background: var(--neon);
Â  Â  Â  Â  Â  Â  color: var(--dark);
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  width: 50px;
Â  Â  Â  Â  Â  Â  height: 50px;
Â  Â  Â  Â  Â  Â  line-height: 50px;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 20px var(--neon);
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  }

Â  Â  Â  Â  .timer-box {
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  font-weight: 800;
Â  Â  Â  Â  Â  Â  color: var(--neon);
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.6);
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 100px;
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(0, 242, 255, 0.2);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- DETAIL SÃZENÃ --- */
Â  Â  Â  Â  .details {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  padding-top: 30px;
Â  Â  Â  Â  Â  Â  border-top: 1px solid rgba(255, 255, 255, 0.1);
Â  Â  Â  Â  Â  Â  margin-top: 30px;
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  }

Â  Â  Â  Â  .input-group {
Â  Â  Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .input-field {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 18px;
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.4);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255,255,255,0.15);
Â  Â  Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  Â  Â  transition: var(--transition-fast);
Â  Â  Â  Â  }

Â  Â  Â  Â  .input-field:focus {
Â  Â  Â  Â  Â  Â  border-color: var(--neon);
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.6);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 15px rgba(0, 242, 255, 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  .score-row {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 25px;
Â  Â  Â  Â  Â  Â  margin: 25px 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  .score-input {
Â  Â  Â  Â  Â  Â  width: 85px;
Â  Â  Â  Â  Â  Â  height: 75px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  font-size: 2.2em;
Â  Â  Â  Â  Â  Â  background: #000000;
Â  Â  Â  Â  Â  Â  border: 3px solid #334155;
Â  Â  Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  Â  Â  border-radius: 22px;
Â  Â  Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  Â  Â  transition: var(--transition-fast);
Â  Â  Â  Â  }

Â  Â  Â  Â  .score-input:focus {
Â  Â  Â  Â  Â  Â  border-color: var(--neon);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
Â  Â  Â  Â  }

Â  Â  Â  Â  .hide-tip-row {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  Â  Â  background: rgba(255,255,255,0.03);
Â  Â  Â  Â  Â  Â  padding: 15px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  }

Â  Â  Â  Â  .btn-add-ticket {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  background: var(--neon);
Â  Â  Â  Â  Â  Â  color: var(--dark);
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 22px;
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  transition: var(--transition-fast);
Â  Â  Â  Â  Â  Â  letter-spacing: 1px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .btn-add-ticket:hover {
Â  Â  Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 25px rgba(0, 242, 255, 0.3);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- PLOVOUCÃ TLAÄŒÃTKO (FAB) --- */
Â  Â  Â  Â  .fab-cart {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  bottom: 35px;
Â  Â  Â  Â  Â  Â  right: 35px;
Â  Â  Â  Â  Â  Â  width: 75px;
Â  Â  Â  Â  Â  Â  height: 75px;
Â  Â  Â  Â  Â  Â  background: var(--neon);
Â  Â  Â  Â  Â  Â  color: var(--dark);
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  font-size: 2em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  z-index: 5000;
Â  Â  Â  Â  Â  Â  box-shadow: 0 15px 40px rgba(0, 242, 255, 0.4);
Â  Â  Â  Â  Â  Â  animation: fabBounce 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes fabBounce {
Â  Â  Â  Â  Â  Â  from { transform: scale(0) rotate(-90deg); opacity: 0; }
Â  Â  Â  Â  Â  Â  to { transform: scale(1) rotate(0); opacity: 1; }
Â  Â  Â  Â  }

Â  Â  Â  Â  .fab-badge {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: -5px;
Â  Â  Â  Â  Â  Â  right: -5px;
Â  Â  Â  Â  Â  Â  background: #ff4444;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  width: 28px;
Â  Â  Â  Â  Â  Â  height: 28px;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  font-size: 0.45em;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  border: 3px solid var(--dark);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- MODÃL TIKETU --- */
Â  Â  Â  Â  #cartModal {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  bottom: 30px;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translateX(-50%);
Â  Â  Â  Â  Â  Â  width: 94%;
Â  Â  Â  Â  Â  Â  max-width: 520px;
Â  Â  Â  Â  Â  Â  background: #1e293b;
Â  Â  Â  Â  Â  Â  border: 2px solid var(--neon);
Â  Â  Â  Â  Â  Â  border-radius: 40px;
Â  Â  Â  Â  Â  Â  padding: 35px;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  z-index: 9999;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 100px rgba(0,0,0,0.9);
Â  Â  Â  Â  Â  Â  max-height: 80vh;
Â  Â  Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  }

Â  Â  Â  Â  .cart-item {
Â  Â  Â  Â  Â  Â  background: rgba(255,255,255,0.03);
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  padding: 15px 20px;
Â  Â  Â  Â  Â  Â  margin-bottom: 12px;
Â  Â  Â  Â  Â  Â  border-left: 5px solid var(--neon);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- PLATEBNÃ BOX PO ODESLÃNÃ --- */
Â  Â  Â  Â  .payment-details-box {
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.5);
Â  Â  Â  Â  Â  Â  border-radius: 25px;
Â  Â  Â  Â  Â  Â  padding: 25px;
Â  Â  Â  Â  Â  Â  margin-top: 25px;
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(0, 242, 255, 0.15);
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  }

Â  Â  Â  Â  .pay-row {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  margin-bottom: 12px;
Â  Â  Â  Â  Â  Â  padding-bottom: 8px;
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid rgba(255,255,255,0.05);
Â  Â  Â  Â  }

Â  Â  Â  Â  .pay-row:last-child { border: none; margin: 0; padding: 0; }

Â  Â  Â  Â  .pay-key {
Â  Â  Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  Â  Â  opacity: 0.5;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  letter-spacing: 1px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .pay-val {
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  color: var(--neon);
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  letter-spacing: 0.5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- SEZNAM SÃZEK NA KARTÄš --- */
Â  Â  Â  Â  .bet-row-ui {
Â  Â  Â  Â  Â  Â  background: rgba(255,255,255,0.03);
Â  Â  Â  Â  Â  Â  border-radius: 18px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  border-left: 4px solid var(--neon);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  }

Â  Â  Â  Â  .bet-header-ui {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  font-size: 0.95em;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .bet-meta-ui {
Â  Â  Â  Â  Â  Â  font-size: 0.85em;
Â  Â  Â  Â  Â  Â  opacity: 0.6;
Â  Â  Â  Â  }

Â  Â  Â  Â  .win-glow { color: #f1c40f; text-shadow: 0 0 10px rgba(241,196,15,0.5); font-weight: 900; }
Â  Â  Â  Â  .ok-glow { color: #27ae60; font-weight: 900; }
Â  Â  Â  Â  .striker-hit { color: #3182ce; font-weight: 800; margin-left: 5px; }
Â  Â  Â  Â  .loss-dim { color: #ff4444; opacity: 0.5; }

Â  Â  Â  Â  /* SCROLLBAR */
Â  Â  Â  Â  #cartModal::-webkit-scrollbar { width: 6px; }
Â  Â  Â  Â  #cartModal::-webkit-scrollbar-thumb { background: var(--neon); border-radius: 10px; }
Â  Â  </style>
</head>
<body>

Â  Â  <a href="admin.html" class="admin-lock">âš™ï¸</a>

Â  Â  <img src="IMG_8429.png" class="header-logo" alt="KANCELÃÅ˜ NADÄšJE">

Â  Â  <div class="bank-box">
Â  Â  Â  Â  <span class="bank-label">MaximÃ¡lnÃ­ vÃ½hra pro dneÅ¡ek</span>
Â  Â  Â  Â  <div class="bank-main-val"><span id="uiMainBank">0</span> KÄ</div>
Â  Â  Â  Â  <div class="bank-total-row">
Â  Â  Â  Â  Â  Â  <span class="bank-total-label">CelkovÃ½ bank v hÅ™e:</span>
Â  Â  Â  Â  Â  Â  <span class="bank-total-val"><span id="uiTotalBank">0</span> KÄ</span>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <a href="statistiky.html" class="btn-stats">ğŸ“Š Å½EBÅ˜ÃÄŒKY A STATISTIKY</a>

Â  Â  <div id="matchList"></div>

Â  Â  <div id="fabCart" class="fab-cart" onclick="uiOpenCart()">
Â  Â  Â  Â  ğŸŸï¸ <div id="fabBadge" class="fab-badge">0</div>
Â  Â  </div>

Â  Â  <div id="cartModal">
Â  Â  Â  Â  <span style="position:absolute; top:20px; right:35px; font-size:2.5em; cursor:pointer; opacity:0.4;" onclick="uiCloseCart()">Ã—</span>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="cartViewPre">
Â  Â  Â  Â  Â  Â  <h2 style="text-align:left; color:var(--neon); margin-bottom:25px;">TvÅ¯j tiket</h2>
Â  Â  Â  Â  Â  Â  <div id="cartItemsContainer"></div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div style="margin-top:30px; padding-top:25px; border-top:1px solid rgba(255,255,255,0.1); display:flex; justify-content:space-between; align-items:center;">
Â  Â  Â  Â  Â  Â  Â  Â  <div style="text-align:left">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size:0.8em; opacity:0.5; text-transform:uppercase;">CelkovÃ¡ sÃ¡zka</span><br>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="uiCartTotal" style="font-size:2.2em; font-weight:900; color:var(--neon)">0 KÄ</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn-add-ticket" style="width:auto; padding:15px 40px;" onclick="actionSendTicket()">ODESLAT</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="cartViewPost" style="display:none; text-align:center;">
Â  Â  Â  Â  Â  Â  <div style="font-weight:900; color:var(--neon); font-size:1.6em; margin-bottom:25px;">âœ… TIKET BYL PÅ˜IJAT!</div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <img id="uiQrImage" src="" style="width:240px; background:white; padding:12px; border-radius:25px; box-shadow: 0 0 40px rgba(0,0,0,0.5);">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="payBtnPlaceholder"></div>

Â  Â  Â  Â  Â  Â  <div class="payment-details-box">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="pay-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="pay-key">ÄŒÃ­slo ÃºÄtu:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="pay-val">295511827 / 0300</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="pay-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="pay-key">ÄŒÃ¡stka:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="pay-val" id="uiPayAmount">0 KÄ</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="pay-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="pay-key">ZprÃ¡va pro pÅ™Ã­jemce:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="pay-val" id="uiPayMessage">---</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <p style="font-size:0.85em; opacity:0.5; margin-top:20px; line-height:1.5;">
Â  Â  Â  Â  Â  Â  Â  Â  Platbu proveÄte obratem. VaÅ¡e sÃ¡zky budou <br>aktivovÃ¡ny po pÅ™ipsÃ¡nÃ­ penÄ›z.
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button class="btn-add-ticket" style="margin-top:15px;" onclick="uiCloseCart()">ZAVÅ˜ÃT TIKET</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

<script>
Â  Â  const firebaseConfig = {Â 
Â  Â  Â  Â  apiKey: "AIzaSyC-NCdmsgA42FxnopKm92m1y5gUGw_z_uE",Â 
Â  Â  Â  Â  authDomain: "nadeje-208bd.firebaseapp.com",Â 
Â  Â  Â  Â  databaseURL: "https://nadeje-208bd-default-rtdb.europe-west1.firebasedatabase.app",Â 
Â  Â  Â  Â  projectId: "nadeje-208bd",Â 
Â  Â  Â  Â  storageBucket: "nadeje-208bd.firebasestorage.app",Â 
Â  Â  Â  Â  messagingSenderId: "688478977789",Â 
Â  Â  Â  Â  appId: "1:688478977789:web:512d1520cf96c9e59cc894"Â 
Â  Â  };
Â  Â  firebase.initializeApp(firebaseConfig);
Â  Â  const db = firebase.database();

Â  Â  let localCart = {};
Â  Â  let activeDeadlines = {};

Â  Â  db.ref('sazkyData').on('value', snap => {
Â  Â  Â  Â  const data = snap.val() || {};
Â  Â  Â  Â  const container = document.getElementById('matchList');
Â  Â  Â  Â  container.innerHTML = "";
Â  Â  Â  Â  const prevBank = parseInt(data.prevedenyBank || 0);
Â  Â  Â  Â Â 
Â  Â  Â  Â  if (!data.zapasy) {
Â  Â  Â  Â  Â  Â  document.getElementById('uiMainBank').innerText = prevBank;
Â  Â  Â  Â  Â  Â  document.getElementById('uiTotalBank').innerText = prevBank;
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  const zapasy = Object.entries(data.zapasy).map(([id, m]) => ({ id, ...m })).sort((a, b) => new Date(a.deadline) - new Date(b.deadline));
Â  Â  Â  Â  let sumActive = 0; zapasy.forEach(z => { if (z.status !== "vyhodnoceno" && z.sazky) sumActive += Object.keys(z.sazky).length * 20; });
Â  Â  Â  Â  const aktivniZ = zapasy.filter(z => z.status !== "vyhodnoceno");
Â  Â  Â  Â  const vkladyDnes = (aktivniZ.length > 0 && aktivniZ[0].sazky) ? Object.keys(aktivniZ[0].sazky).length * 20 : 0;

Â  Â  Â  Â  document.getElementById('uiMainBank').innerText = prevBank + vkladyDnes;
Â  Â  Â  Â  document.getElementById('uiTotalBank').innerText = prevBank + sumActive;

Â  Â  Â  Â  zapasy.forEach(m => {
Â  Â  Â  Â  Â  Â  activeDeadlines[m.id] = m.deadline;
Â  Â  Â  Â  Â  Â  const now = Date.now();
Â  Â  Â  Â  Â  Â  const target = new Date(m.deadline).getTime();
Â  Â  Â  Â  Â  Â  const isClosed = now > target;
Â  Â  Â  Â  Â  Â  const isEvaluated = m.status === "vyhodnoceno";

Â  Â  Â  Â  Â  Â  let t1=0, t0=0, t2=0, tot=0;
Â  Â  Â  Â  Â  Â  if(m.sazky) Object.values(m.sazky).forEach(s => { const parts = s.skore.split(':'); if(parseInt(parts[0]) > parseInt(parts[1])) t1++; else if(parseInt(parts[0]) === parseInt(parts[1])) t0++; else t2++; tot++; });
Â  Â  Â  Â  Â  Â  const p1 = tot ? (t1/tot)*100 : 33.3, p0 = tot ? (t0/tot)*100 : 33.3, p2 = tot ? (t2/tot)*100 : 33.3;

Â  Â  Â  Â  Â  Â  let matchStrelci = [];
Â  Â  Â  Â  Â  Â  if(m.strelciZapasu) {
Â  Â  Â  Â  Â  Â  Â  Â  matchStrelci = m.strelciZapasu.map(s => s.toLowerCase().trim());
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const card = document.createElement('div'); card.className = "match-card"; card.onclick = () => uiToggleMatch(m.id);
Â  Â  Â  Â  Â  Â  card.innerHTML = `<div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:18px;"><div style="color:var(--neon); font-size:0.75em; font-weight:900; letter-spacing:1px;">BANK: ${tot*20} KÄ</div>${isEvaluated ? `<div style="background:#27ae60; color:white; padding:6px 16px; border-radius:100px; font-weight:900; font-size:0.8em">VÃSLEDEK ${m.vysledek}</div>` : `<div id="timer-${m.id}" class="timer-box">--:--:--</div>`}</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flags-wrapper"><div class="flag-container"><img class="flag-img" src="https://flagcdn.com/w160/${m.kodD}.png"><br><small style="font-weight:800; opacity:0.8; display:block; margin-top:8px;">${m.domaci}</small></div><div class="vs-circle">VS</div><div class="flag-container"><img class="flag-img" src="https://flagcdn.com/w160/${m.kodH}.png"><br><small style="font-weight:800; opacity:0.8; display:block; margin-top:8px;">${m.hoste}</small></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="barometer-container"><div class="bar-1" style="width:${p1}%"></div><div class="bar-0" style="width:${p0}%"></div><div class="bar-2" style="width:${p2}%"></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bar-labels"><span>${m.domaci.substring(0,3).toUpperCase()} ${Math.round(p1)}%</span><span>REMÃZA ${Math.round(p0)}%</span><span>${m.hoste.substring(0,3).toUpperCase()} ${Math.round(p2)}%</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="detail-${m.id}" class="details" onclick="event.stopPropagation()">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${isEvaluated && m.strelciZapasu ? `<div style="font-size:0.8em; opacity:0.6; margin-bottom:15px; text-align:center;">StÅ™elci zÃ¡pasu: ${m.strelciZapasu.join(', ')}</div>` : ''}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${(!isClosed && !isEvaluated) ? `<div class="input-group"><input type="text" id="name-${m.id}" class="input-field" placeholder="Zadej svÃ© jmÃ©no"></div><div class="score-row"><input type="number" id="scD-${m.id}" class="score-input" placeholder="0"><span style="font-size:2.5em; font-weight:900; color:var(--neon)">:</span><input type="number" id="scH-${m.id}" class="score-input" placeholder="0"></div><div class="input-group"><input type="text" id="striker-${m.id}" class="input-field" placeholder="Kdo dÃ¡ gÃ³l? (pÅ™Ã­jmenÃ­)"></div><div class="hide-tip-row" onclick="document.getElementById('hide-${m.id}').click()"><input type="checkbox" id="hide-${m.id}" style="width:22px; height:22px; cursor:pointer;"><span style="font-size:0.95em; font-weight:600; opacity:0.9">SkrÃ½t mÅ¯j tip pÅ™ed ostatnÃ­mi</span></div><button class="btn-add-ticket" onclick="actionAddToTicket('${m.id}', '${m.domaci} vs ${m.hoste}')">PÅ˜IDAT NA TIKET (20 KÄ)</button>` : `<div style="text-align:center; color:var(--neon); font-weight:900; letter-spacing:1px; margin-bottom:20px;">SÃZKY UZAVÅ˜ENY</div>`}<div id="bets-list-${m.id}" style="margin-top:30px;"></div></div>`;
Â  Â  Â  Â  Â  Â  container.appendChild(card);

Â  Â  Â  Â  Â  Â  if (m.sazky) {
Â  Â  Â  Â  Â  Â  Â  Â  const bList = document.getElementById(`bets-list-${m.id}`);
Â  Â  Â  Â  Â  Â  Â  Â  Object.values(m.sazky).forEach(s => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const reveal = isClosed || isEvaluated;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let icon = "â³";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let strikerHitLabel = "";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(isEvaluated) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const sParts = s.skore.split(':');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const rParts = m.vysledek.split(':');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const hitScore = (parseInt(sParts[0]) === parseInt(rParts[0])) && (parseInt(sParts[1]) === parseInt(rParts[1]));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const playerStriker = s.strelec.toLowerCase().trim();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const hitStriker = matchStrelci.some(r => r.includes(playerStriker) || playerStriker.includes(r));

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(s.stav === "ğŸ†") icon = `<span class="win-glow">ğŸ† VÃHRA: ${s.vyhraKc || 0} KÄ</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if(s.stav === "âœ…" || hitScore) icon = `<span class="ok-glow">âœ… trefil skÃ³re</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else icon = `<span class="loss-dim">âŒ</span>`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(hitStriker) strikerHitLabel = `<span class="striker-hit">(TREFIL!)</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const displaySkore = (s.skryt && !reveal) ? '??:??' : s.skore;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const displayStrelec = (s.skryt && !reveal) ? '*******' : (s.strelec || '---');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  bList.innerHTML += `<div class="bet-row-ui"><div class="bet-header-ui"><span>${icon} ${s.jmeno}</span><span style="color:var(--neon)">${displaySkore}</span></div><div class="bet-meta-ui">ğŸ¯ StÅ™elec: ${displayStrelec} ${strikerHitLabel}</div></div>`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  });

Â  Â  function uiToggleMatch(id) { const el = document.getElementById(`detail-${id}`); document.querySelectorAll('.details').forEach(d => { if(d.id !== `detail-${id}`) d.style.display = 'none'; }); el.style.display = (el.style.display === 'block') ? 'none' : 'block'; }
Â  Â  function uiUpdateFAB() { const count = Object.keys(localCart).length; const fab = document.getElementById('fabCart'); const badge = document.getElementById('fabBadge'); if(count > 0) { fab.style.display = 'flex'; badge.innerText = count; } else { fab.style.display = 'none'; } }
Â  Â  function uiOpenCart() { const list = document.getElementById('cartItemsContainer'); list.innerHTML = ""; let sum = 0; Object.entries(localCart).forEach(([id, data]) => { sum += 20; list.innerHTML += `<div class="cart-item"><div><div style="font-size:0.7em; opacity:0.5; font-weight:800;">${data.matchName}</div><div style="font-weight:900; font-size:1.1em;">${data.jmeno} | <span style="color:var(--neon)">${data.skore}</span></div></div><div style="color:#ff4444; font-size:1.8em; font-weight:900; cursor:pointer; padding-left:15px;" onclick="actionRemoveFromCart('${id}')">Ã—</div></div>`; }); document.getElementById('uiCartTotal').innerText = `${sum} KÄ`; document.getElementById('cartViewPre').style.display = 'block'; document.getElementById('cartViewPost').style.display = 'none'; document.getElementById('cartModal').style.display = 'block'; }
Â  Â  function uiCloseCart() { document.getElementById('cartModal').style.display = 'none'; }
Â  Â  function actionAddToTicket(id, mName) {Â 
Â  Â  Â  Â  const name = document.getElementById(`name-${id}`).value,Â 
Â  Â  Â  Â  Â  Â  Â  sD = document.getElementById(`scD-${id}`).value,Â 
Â  Â  Â  Â  Â  Â  Â  sH = document.getElementById(`scH-${id}`).value,Â 
Â  Â  Â  Â  Â  Â  Â  striker = document.getElementById(`striker-${id}`).value,Â 
Â  Â  Â  Â  Â  Â  Â  isHidden = document.getElementById(`hide-${id}`).checked;Â 

Â  Â  Â  Â  if(!name || sD==="" || sH==="" || !striker) return alert("VyplÅˆ prosÃ­m vÅ¡echna pole sÃ¡zky!");Â 

Â  Â  Â  Â  db.ref(`sazkyData/zapasy/${id}/sazky`).once('value', snap => {Â 
Â  Â  Â  Â  Â  Â  const data = snap.val() || {};Â 
Â  Â  Â  Â  Â  Â  const isDup = Object.values(data).some(s => s.skore === `${sD}:${sH}` && s.strelec.toLowerCase().trim() === striker.toLowerCase().trim());Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // MÃSTO ZÃKAZU DÃVÃME VAROVÃNÃ S MOÅ½NOSTÃ VOLBY
Â  Â  Â  Â  Â  Â  if(isDup) {
Â  Â  Â  Â  Â  Â  Â  Â  const potvrdit = confirm("POZOR: Tento pÅ™esnÃ½ tip (skÃ³re i stÅ™elec) uÅ¾ v systÃ©mu existuje. Pokud vyhrajeÅ¡, budeÅ¡ se o bank dÄ›lit. ChceÅ¡ pÅ™esto vsadit?");
Â  Â  Â  Â  Â  Â  Â  Â  if(!potvrdit) return; // Pokud klikne na ZruÅ¡it, nic se nestane a mÅ¯Å¾e sÃ¡zku upravit
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  localCart[id] = { jmeno: name, skore: `${sD}:${sH}`, strelec: striker, skryt: isHidden, matchName: mName };Â 
Â  Â  Â  Â  Â  Â  uiUpdateFAB();Â 
Â  Â  Â  Â  Â  Â  uiToggleMatch(id);Â 
Â  Â  Â  Â  });Â 
Â  Â  }
Â  Â  function actionRemoveFromCart(id) { delete localCart[id]; uiUpdateFAB(); if(Object.keys(localCart).length === 0) uiCloseCart(); else uiOpenCart(); }
Â  Â Â 
Â  Â  function actionSendTicket() {Â 
Â  Â  Â  Â  let lastUser = "";Â 
Â  Â  Â  Â  Object.entries(localCart).forEach(([mid, data]) => {Â 
Â  Â  Â  Â  Â  Â  db.ref(`sazkyData/zapasy/${mid}/sazky`).push({ jmeno: data.jmeno, skore: data.skore, strelec: data.strelec, skryt: data.skryt, stav: "â³" });Â 
Â  Â  Â  Â  Â  Â  lastUser = data.jmeno;Â 
Â  Â  Â  Â  });Â 
Â  Â  Â  Â  const totalSum = Object.keys(localCart).length * 20;
Â  Â  Â  Â  const msg = `Sazka_${lastUser}`.normalize("NFD").replace(/[\u0300-\u036f]/g, "");Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  // QR kÃ³d
Â  Â  Â  Â  document.getElementById('uiQrImage').src = `https://api.paylibo.com/paylibo/generator/czech/image?accountNumber=295511827&bankCode=0300&amount=${totalSum}&currency=CZK&message=${msg}`;Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- PLATEBNÃ TLAÄŒÃTKO ---
Â  Â  Â  Â  const paylink = `spayid://1.1?acc=295511827*0300&am=${totalSum}&cc=CZK&msg=${msg}`;
Â  Â  Â  Â  const placeholder = document.getElementById('payBtnPlaceholder');
Â  Â  Â  Â  placeholder.innerHTML = ""; // vyÄistit
Â  Â  Â  Â Â 
Â  Â  Â  Â  const btn = document.createElement('a');
Â  Â  Â  Â  btn.href = paylink;
Â  Â  Â  Â  btn.innerHTML = "ğŸ“± OTEVÅ˜ÃT BANKOVNÃ APLIKACI";
Â  Â  Â  Â  btn.style = "display:block; background:#ffffff; color:#000000; padding:18px; border-radius:20px; text-decoration:none; font-weight:900; margin:20px 0; font-size:0.9em; box-shadow: 0 0 25px rgba(255,255,255,0.3);";
Â  Â  Â  Â  placeholder.appendChild(btn);

Â  Â  Â  Â  document.getElementById('uiPayAmount').innerText = `${totalSum} KÄ`;Â 
Â  Â  Â  Â  document.getElementById('uiPayMessage').innerText = msg;Â 
Â  Â  Â  Â  document.getElementById('cartViewPre').style.display = 'none';Â 
Â  Â  Â  Â  document.getElementById('cartViewPost').style.display = 'block';Â 
Â  Â  Â  Â  localCart = {};Â 
Â  Â  Â  Â  uiUpdateFAB();Â 
Â  Â  }
Â  Â Â 
Â  Â  setInterval(() => { const now = Date.now(); Object.entries(activeDeadlines).forEach(([id, dl]) => { const el = document.getElementById(`timer-${id}`); if(!el) return; const target = new Date(dl).getTime(), diff = target - now; if(diff <= 0) { el.innerText = "ğŸ” UZAVÅ˜ENO"; el.style.color = "#ff4444"; el.style.borderColor = "#ff4444"; } else { const h = Math.floor(diff / 3600000), m = Math.floor((diff % 3600000) / 60000), s = Math.floor((diff % 60000) / 1000); el.innerText = `â±ï¸ ${h}h ${m}m ${s}s`; } }); }, 1000);
</script>
</body>
</html>
